{% extends 'base.html.twig' %}

{% block title %}Inscription{% endblock %}

{% block body %}
<div class="container mt-5">
    <h1>Inscription</h1>

    {% for message in app.flashes('error') %}
        <div class="alert alert-danger">{{ message }}</div>
    {% endfor %}

    {{ form_start(registrationForm, {'attr': {'class': 'mt-3'}}) }}
        <div class="row">
            <div class="col-md-6">
                {{ form_row(registrationForm.name, {
                    'attr': {'class': 'form-control'},
                    'row_attr': {'class': 'form-group'}
                }) }}
            </div>
            <div class="col-md-6">
                {{ form_row(registrationForm.firstName, {
                    'attr': {'class': 'form-control'},
                    'row_attr': {'class': 'form-group'}
                }) }}
            </div>
        </div>

        {{ form_row(registrationForm.username, {
            'attr': {'class': 'form-control'},
            'row_attr': {'class': 'form-group mt-3'}
        }) }}

        <h5 class="mt-4">Adresse</h5>
        {{ form_row(registrationForm.addressStreet, {
            'attr': {'class': 'form-control'},
            'row_attr': {'class': 'form-group mt-2'}
        }) }}

        <div class="row mt-3">
            <div class="col-md-4">
                {{ form_row(registrationForm.addressCity, {
                    'attr': {'class': 'form-control'},
                    'row_attr': {'class': 'form-group'}
                }) }}
            </div>
            <div class="col-md-4">
                {{ form_row(registrationForm.addressPostal, {
                    'attr': {'class': 'form-control'},
                    'row_attr': {'class': 'form-group'}
                }) }}
            </div>
            <div class="col-md-4">
                {{ form_row(registrationForm.addressCountry, {
                    'attr': {'class': 'form-control'},
                    'row_attr': {'class': 'form-group'}
                }) }}
            </div>
        </div>

        {{ form_row(registrationForm.email, {
            'attr': {'class': 'form-control'},
            'row_attr': {'class': 'form-group mt-3'}
        }) }}

        <div class="row mt-3">
            <div class="col-md-6">
                {{ form_row(registrationForm.plainPassword, {
                    'attr': {
                        'class': 'form-control',
                        'placeholder': '8-64 caractères, lettres, chiffres et un caractère spécial'
                    },
                    'row_attr': {'class': 'form-group'}
                }) }}
            </div>
            <div class="col-md-6">
                {{ form_row(registrationForm.passwordConfirmation, {
                    'attr': {'class': 'form-control'},
                    'row_attr': {'class': 'form-group'}
                }) }}
            </div>
        </div>

        {{ form_row(registrationForm.terms, {
            'attr': {'class': 'form-check-input'},
            'row_attr': {'class': 'form-check mt-3'},
            'label_attr': {'class': 'form-check-label'},
            'label': "J'accepte les conditions d'utilisation",
            'help': "<a href=\"" ~ path('app_terms') ~ "\" target=\"_blank\" class=\"text-primary text-decoration-underline\">Lire les conditions d'utilisation</a>"|raw,
            'help_attr': {'class': 'form-text mt-1'}
        }) }}

        <button type="submit" class="btn btn-primary mt-3">S'inscrire</button>
    {{ form_end(registrationForm) }}

    <p class="mt-3">
        Déjà un compte ? <a href="{{ path('app_login') }}">Connectez-vous ici</a>.
    </p>
</div>
{% endblock %}