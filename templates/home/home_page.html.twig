{# templates/home/home.html.twig #}
{% extends 'base.html.twig' %}

{% block title %}Ecard{% endblock %}

{% block body %}

<!-- Carousel principal -->
<div id="homeCarousel" class="carousel slide carousel-fade mb-5" data-bs-ride="carousel">
  <div class="carousel-inner">
    <div class="carousel-item active" style="height: 400px; background: url('{{ asset('images/banner1.jpg') }}') no-repeat center center; background-size: cover;">
      <div class="carousel-caption d-none d-md-block">
        <h2>Découvrez nos Best Sellers</h2>
        <p>Les cartes les plus populaires de la communauté.</p>
      </div>
    </div>
    <div class="carousel-item" style="height: 400px; background: url('{{ asset('images/banner2.jpg') }}') no-repeat center center; background-size: cover;">
      <div class="carousel-caption d-none d-md-block">
        <h2>Nouveautés</h2>
        <p>Les dernières cartes ajoutées sur la marketplace.</p>
      </div>
    </div>
    <div class="carousel-item" style="height: 400px; background: url('{{ asset('images/banner3.jpg') }}') no-repeat center center; background-size: cover;">
      <div class="carousel-caption d-none d-md-block">
        <h2>Tendances</h2>
        <p>Les cartes en vogue du moment.</p>
      </div>
    </div>
  </div>
  <button class="carousel-control-prev" type="button" data-bs-target="#homeCarousel" data-bs-slide="prev">
    <span class="carousel-control-prev-icon"></span>
    <span class="visually-hidden">Précédent</span>
  </button>
  <button class="carousel-control-next" type="button" data-bs-target="#homeCarousel" data-bs-slide="next">
    <span class="carousel-control-next-icon"></span>
    <span class="visually-hidden">Suivant</span>
  </button>
</div>

<!-- Section Best Sellers -->
<div class="container mb-5">
    <h2 class="mb-4">Best Sellers</h2>
    <div class="row row-cols-1 row-cols-md-3 g-4">
        {% for article in bestSellers %}
            <div class="col">
                {% import 'partials/_product_card.html.twig' as product_card %}
                {{ product_card.display(article, bestSellersImages[article.id] ?? null) }}
            </div>
        {% endfor %}
    </div>
</div>


<!-- Section Tendances -->
<div class="container mb-5">
    <h2 class="mb-4">Tendances</h2>
    <div class="card-group">
        {% for article in tendances %}
            <div class="col">
                {% import 'partials/_product_card.html.twig' as product_card %}
                {{ product_card.display(article, tendancesImages[article.id] ?? null) }}
            </div>
        {% endfor %}
    </div>
</div>

{% endblock %}
